2026-01-09 23:16:41,184 INFO __main__ - Starting Polymarket Spike Sam Bot
2026-01-09 23:16:41,666 INFO src.clob_client - API credentials ready
2026-01-09 23:16:42,128 INFO src.clob_client - Resolved token id for 'Hobart International, Qualification: Suzan Lamens ': 3495063973405380521700835768860667292498...
2026-01-09 23:16:42,128 INFO src.bot - ============================================================
2026-01-09 23:16:42,128 INFO src.bot - Bot starting...
2026-01-09 23:16:42,128 INFO src.bot - ============================================================
2026-01-09 23:16:42,128 INFO src.bot - Signature mode: 2
2026-01-09 23:16:42,132 INFO src.bot - Token: 349506397340538052170083576886...
2026-01-09 23:16:42,132 INFO src.bot - Trade size: $1.00
2026-01-09 23:16:42,132 INFO src.bot - Spike threshold: 0.3000%
2026-01-09 23:16:42,132 INFO src.bot - Take profit: 0.5% | Stop loss: 0.4%
2026-01-09 23:16:42,132 INFO src.bot - Max hold: 30s
2026-01-09 23:16:42,132 INFO src.bot - History size: 60
2026-01-09 23:16:42,132 INFO src.bot - Poll interval: 1.0s
2026-01-09 23:16:42,132 INFO src.bot - Dry run: False
2026-01-09 23:16:42,132 INFO src.bot - ============================================================
2026-01-09 23:16:42,132 INFO src.bot - \U0001f50c Starting WebSocket client for real-time data...
2026-01-09 23:16:42,136 INFO src.websocket_client - WebSocket client started in background thread
2026-01-09 23:16:42,137 INFO src.websocket_client - Connecting to wss://ws-subscriptions-clob.polymarket.com/ws/...
2026-01-09 23:16:42,311 WARNING src.websocket_client - WebSocket error: server rejected WebSocket connection: HTTP 404
2026-01-09 23:16:42,311 INFO src.websocket_client - Reconnecting in 5.0 seconds...
2026-01-09 23:16:47,137 WARNING src.bot - \u26a0\ufe0f WebSocket not connected, using REST polling
2026-01-09 23:16:47,137 INFO src.websocket_client - Stopping WebSocket client...
Exception in thread Thread-1 (run_loop):
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1075, in _bootstrap_inner
    self.run()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\threading.py", line 1012, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Users\Admin\Downloads\PolyAgent\src\websocket_client.py", line 362, in run_loop
    self.loop.run_until_complete(self.client.connect())
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 689, in run_until_complete
    raise RuntimeError('Event loop stopped before Future completed.')
RuntimeError: Event loop stopped before Future completed.
2026-01-09 23:16:47,698 INFO src.bot - \U0001f4ca REST: 0.3900 | Spike: +0.00% | History: 0 samples (0s) | Min: 0.0000 | Max: 0.0000 | Avg: 0.0000
2026-01-09 23:16:49,247 INFO src.bot - \U0001f4ca REST: 0.3900 | Spike: +0.00% | History: 0 samples (2s) | Min: 0.0000 | Max: 0.0000 | Avg: 0.0000
2026-01-09 23:16:50,725 INFO src.bot - \U0001f4ca REST: 0.3900 | Spike: +0.00% | History: 0 samples (3s) | Min: 0.0000 | Max: 0.0000 | Avg: 0.0000
2026-01-09 23:16:52,205 INFO src.bot - \U0001f4ca REST: 0.3900 | Spike: +0.00% | History: 0 samples (5s) | Min: 0.0000 | Max: 0.0000 | Avg: 0.0000
2026-01-09 23:16:53,710 INFO src.bot - \U0001f4ca REST: 0.3900 | Spike: +0.00% | History: 5 samples (6s) | Min: 0.3900 | Max: 0.3900 | Avg: 0.3900
2026-01-09 23:16:55,337 INFO src.bot - \U0001f4ca REST: 0.3900 | Spike: +0.00% | History: 6 samples (8s) | Min: 0.3900 | Max: 0.3900 | Avg: 0.3900
2026-01-09 23:16:57,049 INFO src.bot - \U0001f4ca REST: 0.3900 | Spike: +0.00% | History: 7 samples (9s) | Min: 0.3900 | Max: 0.3900 | Avg: 0.3900
2026-01-09 23:16:58,757 INFO src.bot - \U0001f4ca REST: 0.3900 | Spike: +0.00% | History: 8 samples (11s) | Min: 0.3900 | Max: 0.3900 | Avg: 0.3900
2026-01-09 23:17:00,482 INFO src.bot - \U0001f4ca REST: 0.3900 | Spike: +0.00% | History: 9 samples (13s) | Min: 0.3900 | Max: 0.3900 | Avg: 0.3900
2026-01-09 23:17:02,226 INFO src.bot - \U0001f4ca REST: 0.3900 | Spike: +0.00% | History: 10 samples (15s) | Min: 0.3900 | Max: 0.3900 | Avg: 0.3900
2026-01-09 23:17:35,820 INFO src.bot - \U0001f4ca REST: 0.3900 | Spike: +0.00% | History: 30 samples (48s) | Min: 0.3900 | Max: 0.3900 | Avg: 0.3900
2026-01-09 23:18:20,509 INFO src.bot - \U0001f534 DECISION: SELL $1.00 (reason: spike_up_3.85%, price=0.4050)
2026-01-09 23:18:20,509 INFO src.bot - ENTER SELL $1.00 at 0.4050
2026-01-09 23:18:21,395 WARNING src.clob_client - Order attempt failed: PolyApiException[status_code=400, error_message={'error': 'not enough balance / allowance'}]
2026-01-09 23:18:22,621 WARNING src.clob_client - Order attempt failed: PolyApiException[status_code=400, error_message={'error': 'not enough balance / allowance'}]
2026-01-09 23:18:24,796 WARNING src.clob_client - Order attempt failed: PolyApiException[status_code=400, error_message={'error': 'not enough balance / allowance'}]
2026-01-09 23:18:27,796 WARNING src.bot - \u274c Order placement failed: PolyApiException[status_code=400, error_message={'error': 'not enough balance / allowance'}]
2026-01-09 23:18:32,387 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +3.85% | History: 60 samples (105s) | Min: 0.3900 | Max: 0.4050 | Avg: 0.3910
2026-01-09 23:18:32,387 INFO src.bot -    Position: SHORT | Entry: 0.4050 | P&L: +0.00% | Held: 12s
2026-01-09 23:18:50,624 INFO src.bot - EXIT via Time exit (held 30s > 30s): BUY $1.00 at 0.4050
2026-01-09 23:18:50,624 INFO src.bot -   P&L: $+0.00 (+0.00%) | Hold: 30s
2026-01-09 23:18:50,624 INFO src.bot -   Total Realized P&L: $+0.13 | Win Rate: 2/5
2026-01-09 23:18:51,068 INFO src.clob_client - Order filled: 0xc3bad1dee5b64168af0360e5c102047e7c9e774f94b1ca37efa100fc875398c4
2026-01-09 23:18:51,068 INFO src.bot -   Order filled: ID=0xc3bad1dee5b64168af0360e5c102047e7c9e774f94b1ca37efa100fc875398c4 | Shares: N/A
2026-01-09 23:19:18,324 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +3.85% | History: 60 samples (101s) | Min: 0.3900 | Max: 0.4050 | Avg: 0.3985
2026-01-09 23:19:21,503 INFO src.bot - \U0001f534 DECISION: SELL $1.00 (reason: spike_up_3.85%, price=0.4050)
2026-01-09 23:19:21,503 INFO src.bot - ENTER SELL $1.00 at 0.4050
2026-01-09 23:19:21,868 INFO src.clob_client - Order filled: 0x76c42a0aa11d5cc0b72a0da78e696b236c290cb0edde7a4687881f6620cb56ad
2026-01-09 23:19:21,868 INFO src.bot - Position open acknowledged by API
2026-01-09 23:19:52,547 INFO src.bot - EXIT via Time exit (held 31s > 30s): BUY $1.00 at 0.4050
2026-01-09 23:19:52,547 INFO src.bot -   P&L: $+0.00 (+0.00%) | Hold: 31s
2026-01-09 23:19:52,547 INFO src.bot -   Total Realized P&L: $+0.13 | Win Rate: 2/6
2026-01-09 23:19:52,946 WARNING src.clob_client - Order attempt failed: PolyApiException[status_code=400, error_message={'error': 'not enough balance / allowance'}]
2026-01-09 23:19:54,120 WARNING src.clob_client - Order attempt failed: PolyApiException[status_code=400, error_message={'error': 'not enough balance / allowance'}]
2026-01-09 23:19:56,301 WARNING src.clob_client - Order attempt failed: PolyApiException[status_code=400, error_message={'error': 'not enough balance / allowance'}]
2026-01-09 23:19:59,302 WARNING src.bot - Exit order failed: PolyApiException[status_code=400, error_message={'error': 'not enough balance / allowance'}]
2026-01-09 23:20:09,723 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (96s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:20:57,549 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (98s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:21:48,337 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (97s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:22:39,118 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (100s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:23:29,466 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (99s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:24:20,637 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (100s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:25:11,646 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (101s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:26:01,165 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (99s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:26:50,979 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (98s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:27:41,310 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (99s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:28:35,220 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (103s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:29:31,232 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (108s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:30:30,464 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (114s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:31:25,664 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (113s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:32:24,131 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (112s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:33:21,835 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (114s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:34:15,311 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (109s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:35:06,208 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (103s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:35:57,019 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (100s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:36:52,081 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (104s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:37:45,443 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (107s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
2026-01-09 23:38:37,958 INFO src.bot - \U0001f4ca REST: 0.4050 | Spike: +0.00% | History: 60 samples (104s) | Min: 0.4050 | Max: 0.4050 | Avg: 0.4050
